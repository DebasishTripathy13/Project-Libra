<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProjectLibra | Enterprise Security Operations</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/static/custom.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-dark navbar-custom">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="#">
                <i class="bi bi-shield-lock-fill"></i> ProjectLibra SOC
            </a>
            <div class="d-flex align-items-center">
                <span class="badge bg-success badge-pulse me-3">
                    <i class="bi bi-circle-fill"></i> LIVE
                </span>
                <button class="btn btn-sm btn-outline-light me-2" id="expertModeBtn">
                    <i class="bi bi-person-badge"></i> Expert Mode
                </button>
                <button class="btn btn-sm btn-outline-light" id="generateReportBtn">
                    <i class="bi bi-file-earmark-text"></i> Generate Report
                </button>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-2 p-0 sidebar">
                <div class="nav flex-column mt-4 px-2 gap-1">
                    <a class="nav-link active" href="#" data-section="dashboard">
                        <i class="bi bi-grid-1x2-fill"></i> Dashboard
                    </a>
                    <a class="nav-link" href="#" data-section="threats">
                        <i class="bi bi-shield-fill-exclamation"></i> Threat Intel
                    </a>
                    <a class="nav-link" href="#" data-section="logs">
                        <i class="bi bi-terminal-fill"></i> Log Analysis
                    </a>
                    <a class="nav-link" href="#" data-section="integrity">
                        <i class="bi bi-database-fill-lock"></i> Data Integrity
                    </a>
                    <a class="nav-link" href="#" data-section="system">
                        <i class="bi bi-cpu-fill"></i> System Metrics
                    </a>
                    <a class="nav-link" href="#" data-section="updates">
                        <i class="bi bi-arrow-repeat"></i> Patch Mgmt
                    </a>
                    <a class="nav-link" href="#" data-section="agents">
                        <i class="bi bi-robot"></i> AI Agents
                    </a>
                    <a class="nav-link" href="#" id="sidebarMLStatus" style="color: #f093fb;">
                        <i class="bi bi-bar-chart me-2"></i> ML Status
                    </a>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col-md-10 p-4">
                <!-- Dashboard Section -->
                <div id="dashboard-section" class="content-section">
                    <div class="d-flex justify-content-between align-items-end mb-4">
                        <div>
                            <h2 class="mb-1">Security Operations</h2>
                            <p class="text-secondary mb-0">Real-time situational awareness</p>
                        </div>
                        <span
                            class="badge bg-primary bg-opacity-10 text-primary border border-primary border-opacity-25 px-3 py-2">
                            <i class="bi bi-broadcast"></i> Live Monitoring
                        </span>
                    </div>

                    <!-- Stats Row -->
                    <div class="row mb-4 g-4">
                        <div class="col-md-3">
                            <div class="glass-card stat-card p-4 h-100 position-relative overflow-hidden">
                                <div class="position-absolute top-0 end-0 p-3 opacity-10">
                                    <i class="bi bi-shield-exclamation display-4 text-danger"></i>
                                </div>
                                <div class="text-secondary text-sm font-bold text-uppercase mb-2">Active Threats</div>
                                <h3 class="mb-2 text-danger display-6 fw-bold" id="stat-threats">0</h3>
                                <div class="badge bg-danger bg-opacity-10 text-danger rounded-pill">
                                    <i class="bi bi-arrow-down"></i> 12% vs avg
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="glass-card stat-card p-4 h-100 position-relative overflow-hidden">
                                <div class="position-absolute top-0 end-0 p-3 opacity-10">
                                    <i class="bi bi-file-earmark-code display-4 text-primary"></i>
                                </div>
                                <div class="text-secondary text-sm font-bold text-uppercase mb-2">Log Volume</div>
                                <h3 class="mb-2 text-primary display-6 fw-bold" id="stat-logs">0</h3>
                                <div class="badge bg-primary bg-opacity-10 text-primary rounded-pill">
                                    <i class="bi bi-arrow-up"></i> High Activity
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="glass-card stat-card p-4 h-100 position-relative overflow-hidden">
                                <div class="position-absolute top-0 end-0 p-3 opacity-10">
                                    <i class="bi bi-heart-pulse display-4 text-success"></i>
                                </div>
                                <div class="text-secondary text-sm font-bold text-uppercase mb-2">System Health</div>
                                <h3 class="mb-2 text-success display-6 fw-bold" id="stat-health">Good</h3>
                                <small class="text-muted d-block mt-2">Uptime: <span
                                        id="uptime-display">0h</span></small>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="glass-card stat-card p-4 h-100 position-relative overflow-hidden">
                                <div class="position-absolute top-0 end-0 p-3 opacity-10">
                                    <i class="bi bi-cpu display-4 text-warning"></i>
                                </div>
                                <div class="text-secondary text-sm font-bold text-uppercase mb-2">AI Agents</div>
                                <h3 class="mb-2 text-warning display-6 fw-bold" id="stat-agents">5</h3>
                                <div class="badge bg-warning bg-opacity-10 text-warning rounded-pill">
                                    <i class="bi bi-check-circle"></i> Operational
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Secondary Stats Row -->
                    <div class="row mb-4 g-4">
                        <div class="col-md-4">
                            <div class="card bg-gradient-purple border-0 text-white p-4 h-100">
                                <div class="d-flex align-items-center mb-3">
                                    <i class="bi bi-database-check fs-4 me-2"></i>
                                    <h6 class="mb-0 text-white-50 text-uppercase text-sm font-bold">System Integrity
                                    </h6>
                                </div>
                                <h3 class="mb-1 stat-value" id="integrity-verified">0</h3>
                                <p class="mb-2 stat-label">Records Verified</p>
                                <div class="mt-auto">
                                    <span class="badge bg-white bg-opacity-25 fw-normal">Tamper-Proof</span>
                                    <span class="badge bg-white bg-opacity-25 fw-normal">SHA-256</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card bg-gradient-accent border-0 text-white p-4 h-100">
                                <div class="d-flex align-items-center mb-3">
                                    <i class="bi bi-cpu fs-4 me-2"></i>
                                    <h6 class="mb-0 text-white-50 text-uppercase text-sm font-bold">ML Models</h6>
                                </div>
                                <h3 class="mb-1 stat-value">3 Active</h3>
                                <p class="mb-2 stat-label">IsolationForest • Baseline • Pattern</p>
                                <div class="mt-auto">
                                    <span class="badge bg-white bg-opacity-25 fw-normal">Adaptive Learning</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card bg-gradient-dark border-0 text-white p-4 h-100">
                                <div class="d-flex align-items-center mb-3">
                                    <i class="bi bi-shield-check fs-4 me-2"></i>
                                    <h6 class="mb-0 text-white-50 text-uppercase text-sm font-bold">Total Threats</h6>
                                </div>
                                <h3 class="mb-1 stat-value" id="stat-threats">0</h3>
                                <p class="mb-2 stat-label">Active Detections</p>
                                <div class="mt-auto">
                                    <span class="badge bg-white bg-opacity-25 fw-normal">Critical: <span
                                            id="stat-critical-count">0</span></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="row mb-4 g-4">
                        <div class="col-md-4">
                            <div class="glass-card p-4 h-100">
                                <h5 class="mb-4 text-sm font-bold text-uppercase tracking-tight text-secondary">
                                    <i class="bi bi-pie-chart me-2"></i> Severity Distribution
                                </h5>
                                <div class="chart-container" style="height: 250px;">
                                    <canvas id="severityPieChart"></canvas>
                                </div>
                                <div class="mt-3 d-flex justify-content-center gap-2 flex-wrap">
                                    <span
                                        class="badge rounded-pill bg-danger bg-opacity-25 text-white border border-danger border-opacity-50 px-3 py-2">
                                        <i class="bi bi-circle-fill text-danger me-1"></i> Critical:
                                        <span id="pie-critical">0</span></span>
                                    <span
                                        class="badge rounded-pill bg-warning bg-opacity-25 text-white border border-warning border-opacity-50 px-3 py-2">
                                        <i class="bi bi-circle-fill text-warning me-1"></i> High:
                                        <span id="pie-high">0</span></span>
                                    <span
                                        class="badge rounded-pill bg-info bg-opacity-25 text-white border border-info border-opacity-50 px-3 py-2">
                                        <i class="bi bi-circle-fill text-info me-1"></i> Medium:
                                        <span id="pie-medium">0</span></span>
                                    <span
                                        class="badge rounded-pill bg-secondary bg-opacity-25 text-white border border-secondary border-opacity-50 px-3 py-2">
                                        <i class="bi bi-circle-fill text-secondary me-1"></i> Low:
                                        <span id="pie-low">0</span></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="glass-card p-4 h-100">
                                <h5 class="mb-4 text-sm font-bold text-uppercase tracking-tight text-secondary">
                                    <i class="bi bi-activity me-2"></i> Threat Level Timeline (Last 10 Hours)
                                </h5>
                                <div class="chart-container">
                                    <canvas id="threatChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-4 g-4">
                        <div class="col-md-6">
                            <div class="glass-card p-4 h-100">
                                <h5 class="mb-4 text-sm font-bold text-uppercase tracking-tight text-secondary">
                                    <i class="bi bi-bar-chart me-2"></i> System Resources
                                </h5>
                                <div class="chart-container">
                                    <canvas id="resourceChart"></canvas>
                                </div>
                                <div class="mt-4 grid gap-3">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <small class="text-secondary">CPU Load</small>
                                        <span id="cpu-percent"
                                            class="badge bg-primary bg-opacity-10 text-primary">0%</span>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <small class="text-secondary">Memory Usage</small>
                                        <span id="mem-percent"
                                            class="badge bg-warning bg-opacity-10 text-warning">0%</span>
                                    </div>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <small class="text-secondary">Disk Space</small>
                                        <span id="disk-percent"
                                            class="badge bg-danger bg-opacity-10 text-danger">0%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="glass-card p-4 h-100">
                                <h5 class="mb-4 text-sm font-bold text-uppercase tracking-tight text-secondary">
                                    <i class="bi bi-hdd-network me-2"></i> Network Activity
                                </h5>
                                <div class="mb-4">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span class="text-secondary text-sm">Upload</span>
                                        <span class="text-success fw-bold font-monospace" id="net-sent">0 MB</span>
                                    </div>
                                    <div class="progress" style="height: 4px; background: rgba(255,255,255,0.05);">
                                        <div class="progress-bar bg-success" id="net-sent-bar" style="width: 0%"></div>
                                    </div>
                                </div>
                                <div class="mb-4">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span class="text-secondary text-sm">Download</span>
                                        <span class="text-info fw-bold font-monospace" id="net-recv">0 MB</span>
                                    </div>
                                    <div class="progress" style="height: 4px; background: rgba(255,255,255,0.05);">
                                        <div class="progress-bar bg-info" id="net-recv-bar" style="width: 0%"></div>
                                    </div>
                                </div>
                                <div class="row text-center mt-auto g-2">
                                    <div class="col-4">
                                        <div
                                            class="p-2 rounded bg-white bg-opacity-05 border border-white border-opacity-10">
                                            <div class="text-secondary text-xs text-uppercase mb-1">Conn</div>
                                            <h5 class="text-primary mb-0 font-monospace">
                                                <span id="conn-count">0</span>
                                            </h5>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div
                                            class="p-2 rounded bg-white bg-opacity-05 border border-white border-opacity-10">
                                            <div class="text-secondary text-xs text-uppercase mb-1">Pkt/s</div>
                                            <h5 class="text-success mb-0 font-monospace">
                                                <span id="packets-sec">0</span>
                                            </h5>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div
                                            class="p-2 rounded bg-white bg-opacity-05 border border-white border-opacity-10">
                                            <div class="text-secondary text-xs text-uppercase mb-1">Speed</div>
                                            <h5 class="text-warning mb-0 font-monospace">
                                                <span id="bandwidth">0</span> <small class="text-xs">Mbps</small>
                                            </h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="glass-card p-4">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h5 class="mb-0 text-sm font-bold text-uppercase tracking-tight text-secondary">
                                        <i class="bi bi-clock-history me-2"></i> Recent Security Events
                                    </h5>
                                    <span
                                        class="badge bg-primary bg-opacity-10 text-primary border border-primary border-opacity-25"
                                        id="event-count">0</span>
                                </div>
                                <div id="recent-events" style="max-height: 300px; overflow-y: auto;"
                                    class="custom-scrollbar">
                                    <div
                                        class="d-flex flex-column align-items-center justify-content-center py-5 text-muted opacity-50">
                                        <div class="spinner-border spinner-border-sm mb-2" role="status"></div>
                                        <small>Loading stream...</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Threats Section -->
                <div id="threats-section" class="content-section" style="display: none;">
                    <h2 class="mb-4">Threat Detection & Analysis</h2>
                    <div class="glass-card p-4">
                        <div id="threats-content">
                            <div
                                class="d-flex flex-column align-items-center justify-content-center py-5 text-muted opacity-50">
                                <div class="spinner-border spinner-border-sm mb-2" role="status"></div>
                                <small>Analyzing security landscape...</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Logs Section -->
                <div id="logs-section" class="content-section" style="display: none;">
                    <h2 class="mb-4">Real-Time Log Analysis</h2>

                    <!-- AI Analysis Card -->
                    <div
                        class="glass-card bg-gradient-to-r from-blue-900 to-slate-900 border-primary border-opacity-25 mb-4 p-4">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h5 class="mb-2 text-white">
                                    <i class="bi bi-stars text-warning"></i> AI-Powered Insights
                                </h5>
                                <p class="mb-0 text-white-50 small">
                                    Analysis active. Categorizing by <span
                                        class="badge bg-white bg-opacity-10">Severity</span>
                                    <span class="badge bg-white bg-opacity-10">Threat Pattern</span>
                                    <span class="badge bg-white bg-opacity-10">Anomaly Score</span>
                                </p>
                            </div>
                            <button class="btn btn-light fw-bold px-4 shadow-lg text-primary" id="aiAnalyzeBtn">
                                <i class="bi bi-lightning-charge-fill me-2"></i> Run Analysis
                            </button>
                        </div>
                    </div>

                    <!-- ML Status Card -->
                    <div class="glass-card mb-4 p-3 border-start border-4 border-info">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-info bg-opacity-10 p-2 rounded">
                                    <i class="bi bi-graph-up text-info fs-5"></i>
                                </div>
                                <div>
                                    <h6 class="mb-0 text-white">ML Anomaly Detection</h6>
                                    <small class="text-secondary">Isolation Forest • Adaptive Baseline</small>
                                </div>
                            </div>
                            <div class="d-flex align-items-center gap-3">
                                <span class="badge bg-success bg-opacity-10 text-success"><i
                                        class="bi bi-check-circle me-1"></i> Active</span>
                                <button class="btn btn-sm btn-outline-light" id="mlStatusBtn">View Details</button>
                            </div>
                        </div>
                    </div>

                    <!-- AI Analysis Results -->
                    <div id="ai-analysis-results" class="mb-3" style="display: none;"></div>
                    <div id="ml-anomalies" class="mb-3" style="display: none;"></div>

                    <!-- Log Filter and Controls -->
                    <div class="glass-card mb-4 p-3">
                        <div class="row align-items-center g-3">
                            <div class="col-md-8">
                                <div class="input-group">
                                    <span class="input-group-text bg-transparent border-end-0 text-secondary">
                                        <i class="bi bi-search"></i>
                                    </span>
                                    <input type="text" id="logFilter" class="form-control border-start-0 ps-0"
                                        placeholder="Filter logs by message, source, severity...">
                                </div>
                            </div>
                            <div class="col-md-4 text-end">
                                <div class="d-flex gap-2 justify-content-end">
                                    <button class="btn btn-outline-danger btn-sm" type="button" id="clearLogsBtn">
                                        <i class="bi bi-trash"></i> Clear
                                    </button>
                                    <button class="btn btn-primary btn-sm" type="button" onclick="location.reload()">
                                        <i class="bi bi-arrow-clockwise"></i> Refresh
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- System Logs Display -->
                    <div class="glass-card p-0 overflow-hidden">
                        <div
                            class="p-4 border-bottom border-white border-opacity-10 d-flex justify-content-between align-items-center bg-black bg-opacity-25">
                            <h5 class="mb-0 text-sm font-bold text-uppercase tracking-tight text-white">
                                <i class="bi bi-journal-code me-2 text-secondary"></i> System Logs
                            </h5>
                            <span class="badge bg-primary bg-opacity-20 text-primary font-monospace"
                                id="log-count">0</span>
                        </div>
                        <div
                            class="p-2 bg-black bg-opacity-40 font-monospace text-xs text-secondary border-bottom border-white border-opacity-5">
                            <i class="bi bi-info-circle me-1"></i> Sources: journalctl, syslog, auth.log, apache/nginx,
                            kernel
                        </div>
                        <div id="logs-content" style="max-height: 600px; overflow-y: auto; overflow-x: hidden;"
                            class="p-0 font-monospace">
                            <div
                                class="d-flex flex-column align-items-center justify-content-center py-5 text-muted opacity-50">
                                <div class="spinner-border spinner-border-sm mb-2" role="status"></div>
                                <small>Connecting to log stream...</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Integrity Section -->
                <div id="integrity-section" class="content-section" style="display: none;">
                    <h2 class="mb-4">Database Integrity Monitor</h2>
                    <div class="glass-card p-4">
                        <div id="integrity-content">
                            <div class="text-muted text-center py-5">Checking database signatures...</div>
                        </div>
                    </div>
                </div>

                <!-- System Section -->
                <div id="system-section" class="content-section" style="display: none;">
                    <h2 class="mb-4">System Resource Monitoring</h2>

                    <!-- Resource Cards -->
                    <div class="row mb-4 g-4">
                        <div class="col-md-3">
                            <div class="glass-card p-4 text-center">
                                <div class="text-secondary text-xs text-uppercase mb-2">CPU Usage</div>
                                <div class="position-relative d-inline-block">
                                    <h3 class="mb-0 display-6 font-monospace" id="cpu-usage">0%</h3>
                                </div>
                                <div class="progress mt-3" style="height: 4px; background: rgba(255,255,255,0.05)">
                                    <div id="cpu-progress" class="progress-bar bg-primary" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="glass-card p-4 text-center">
                                <div class="text-secondary text-xs text-uppercase mb-2">Memory</div>
                                <div class="position-relative d-inline-block">
                                    <h3 class="mb-0 display-6 font-monospace" id="mem-usage">0%</h3>
                                </div>
                                <div class="progress mt-3" style="height: 4px; background: rgba(255,255,255,0.05)">
                                    <div id="mem-progress" class="progress-bar bg-warning" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="glass-card p-4 text-center">
                                <div class="text-secondary text-xs text-uppercase mb-2">Disk</div>
                                <div class="position-relative d-inline-block">
                                    <h3 class="mb-0 display-6 font-monospace" id="disk-usage">0%</h3>
                                </div>
                                <div class="progress mt-3" style="height: 4px; background: rgba(255,255,255,0.05)">
                                    <div id="disk-progress" class="progress-bar bg-danger" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="glass-card p-4 text-center">
                                <div class="text-secondary text-xs text-uppercase mb-2">Network I/O</div>
                                <div class="position-relative d-inline-block">
                                    <h3 class="mb-0 display-6 font-monospace" id="network-io">0</h3>
                                </div>
                                <div class="text-secondary text-xs mt-2 font-monospace" id="network-detail">↑ 0 ↓ 0
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card p-4">
                        <h5 class="mb-4 text-white">System Details</h5>
                        <div id="system-details"></div>
                    </div>
                </div>

                <!-- Updates Section -->
                <div id="updates-section" class="content-section" style="display: none;">
                    <h2 class="mb-4">System Updates & Patches</h2>
                    <div class="glass-card p-4">
                        <div id="updates-content">
                            <div class="text-muted text-center py-5">Scanning for updates...</div>
                        </div>
                    </div>
                </div>

                <!-- Agents Section -->
                <div id="agents-section" class="content-section" style="display: none;">
                    <h2 class="mb-4">AI Agent Management</h2>
                    <div class="glass-card p-4">
                        <div id="agents-content">
                            <div class="text-muted text-center py-5">Querying agent swarm status...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Report Modal -->
    <div class="modal fade" id="reportModal" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h5 class="modal-title d-flex align-items-center gap-2">
                        <div class="p-2 rounded bg-primary bg-opacity-10 text-primary">
                            <i class="bi bi-file-earmark-text-fill"></i>
                        </div>
                        <div>
                            <div class="fw-bold">Generate Report</div>
                            <small class="text-secondary text-xs fw-normal d-block mt-1">Export security insights and
                                logs</small>
                        </div>
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row g-4">
                        <div class="col-md-6">
                            <label
                                class="form-label text-secondary text-sm fw-bold text-uppercase tracking-wider mb-3">Report
                                Scope</label>
                            <div class="d-grid gap-2">
                                <input type="radio" class="btn-check" name="reportType" id="typeThreat" value="threat"
                                    checked>
                                <label
                                    class="btn btn-outline-light text-start p-3 d-flex align-items-center gap-3 transition-all"
                                    for="typeThreat">
                                    <i class="bi bi-shield-exclamation fs-4 text-danger"></i>
                                    <div>
                                        <div class="fw-bold">Threat Assessment</div>
                                        <small class="text-secondary opacity-75">Active threats &
                                            vulnerabilities</small>
                                    </div>
                                </label>

                                <input type="radio" class="btn-check" name="reportType" id="typeSystem" value="system">
                                <label
                                    class="btn btn-outline-light text-start p-3 d-flex align-items-center gap-3 transition-all"
                                    for="typeSystem">
                                    <i class="bi bi-cpu fs-4 text-info"></i>
                                    <div>
                                        <div class="fw-bold">System Health</div>
                                        <small class="text-secondary opacity-75">Resource usage & performance</small>
                                    </div>
                                </label>

                                <input type="radio" class="btn-check" name="reportType" id="typeAudit"
                                    value="comprehensive">
                                <label
                                    class="btn btn-outline-light text-start p-3 d-flex align-items-center gap-3 transition-all"
                                    for="typeAudit">
                                    <i class="bi bi-journal-check fs-4 text-warning"></i>
                                    <div>
                                        <div class="fw-bold">Full Audit</div>
                                        <small class="text-secondary opacity-75">Comprehensive security log</small>
                                    </div>
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label
                                class="form-label text-secondary text-sm fw-bold text-uppercase tracking-wider mb-3">Export
                                Format</label>
                            <div class="row g-2 mb-4">
                                <div class="col-4">
                                    <input type="radio" class="btn-check" name="format" id="formatMD" value="md"
                                        checked>
                                    <label class="btn btn-outline-light w-100 p-3 text-center transition-all"
                                        for="formatMD">
                                        <i class="bi bi-markdown fs-3 mb-2 d-block text-white"></i>
                                        <span class="small font-monospace">MD</span>
                                    </label>
                                </div>
                                <div class="col-4">
                                    <input type="radio" class="btn-check" name="format" id="formatHTML" value="html">
                                    <label class="btn btn-outline-light w-100 p-3 text-center transition-all"
                                        for="formatHTML">
                                        <i class="bi bi-filetype-html fs-3 mb-2 d-block text-warning"></i>
                                        <span class="small font-monospace">HTML</span>
                                    </label>
                                </div>
                                <div class="col-4">
                                    <input type="radio" class="btn-check" name="format" id="formatJSON" value="json">
                                    <label class="btn btn-outline-light w-100 p-3 text-center transition-all"
                                        for="formatJSON">
                                        <i class="bi bi-file-code fs-3 mb-2 d-block text-info"></i>
                                        <span class="small font-monospace">JSON</span>
                                    </label>
                                </div>
                            </div>

                            <div class="p-3 rounded bg-black bg-opacity-20 border border-white border-opacity-5">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="includeAI" checked>
                                    <label class="form-check-label d-flex align-items-center gap-2" for="includeAI">
                                        <i class="bi bi-stars text-warning"></i> Include AI Analysis
                                    </label>
                                </div>
                                <div class="text-xs text-secondary mt-2 ms-1">
                                    Uses local LLM to summarize key findings and provide remediation steps.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-link text-secondary text-decoration-none"
                        data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary px-4 shadow-lg" id="downloadReportBtn">
                        <i class="bi bi-cloud-arrow-down-fill me-2"></i> Generate & Download
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/dashboard.js"></script>
</body>

</html>